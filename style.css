<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rifa do JÃ£o</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet" />
</head>
<body>
  <div class="container">
    <h1>ðŸŽ® Rifa do Controle 8BitDo</h1>
    <p class="descricao">Participe da rifa e concorra a um controle 8BitDo Wukong compatÃ­vel com PC e celular!</p>

    <img src="controle.jpg" alt="PrÃªmio da Rifa" class="premio-img" />

    <h2>Escolha seus nÃºmeros (R$2 cada):</h2>
    <div id="cotas" class="cotas"></div>

    <button onclick="confirmarCotas()">Reservar Cotas</button>
  </div>

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>

  <script>
    const supabaseUrl = "https://oiwhhumfobnpnwxzdtaa.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9pd2hodW1mb2JucG53eHpkdGFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MTM2MTQsImV4cCI6MjA2NzQ4OTYxNH0.H24RF9v5zHOddlXtU_kU_SEuV7xpcZEe_lQZRhLzvFM";
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

    const cotasContainer = document.getElementById("cotas");
    const TOTAL_COTAS = 150;
    let cotasSelecionadas = [];

    async function atualizarCotas() {
      cotasContainer.innerHTML = "";
      cotasSelecionadas = [];

      const { data: cotas, error } = await supabase
        .from('cotas')
        .select('*');

      if (error) {
        console.error("Erro ao carregar cotas do Supabase:", error);
        cotasContainer.textContent = "Erro ao carregar cotas.";
        return;
      }

      const ocupadas = {};
      cotas.forEach(cota => {
        ocupadas[parseInt(cota.id)] = cota;
      });

      for (let i = 1; i <= TOTAL_COTAS; i++) {
        const cota = document.createElement("div");
        cota.textContent = i;

        const da
